<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactively Explore the Support of Local Explanations with the Radial Tour • cheem</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Interactively Explore the Support of Local Explanations with the Radial Tour">
<meta property="og:description" content="Given a tree-based model, calculate the local explanation of 
  every observation. View the data space, explanation space, and model 
  information as ensemble graphic interactive on a shiny application.
  After an observation of interest is identified, the normalized 
  variable importance of the local explanation is used as a 1D projection
  basis. The support of the local explanation is then explored by changing
  the basis with the use of the radial, manual tour.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cheem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/getting-started-with-cheem.html">Getting started with cheem</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nspyrison/cheem/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="cheem">
<strong>cheem</strong><a class="anchor" aria-label="anchor" href="#cheem"></a>
</h1></div>
<p>Interactively explore data- and local explanation- spaces and residual side-by-side. Further explore the support of a selected observation’s local explanation with a radial tour.</p>
<div class="section level2">
<h2 id="context">Context<a class="anchor" aria-label="anchor" href="#context"></a>
</h2>
<p><em>Local explanations</em> approximate the linear variable importance of a non-linear model in the vicinity of one instance(observation). That is, a point-measure of each variable’s importance to the model at the particular location in data-space.</p>
<p><strong>cheem</strong> extracts the local explanation of every observation in a dataset, given a model. Given a model, extract the local explanation of every observation in a data set. View the data- and explanation-spaces side-by-side in an interactive shiny application. Further explored a selected point against a comparison using its explanation as a 1D projection basis. A radial tour then explores the structure of explanation projection.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<pre><code><span class="co">## Download the package</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"cheem"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">## Restart the R session so the IDE has the correct directory structure</span>
<span class="fu">restartSession</span><span class="op">(</span><span class="op">)</span>
<span class="co">## Load cheem into session</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/nspyrison/cheem/" class="external-link">"cheem"</a></span><span class="op">)</span>
<span class="co">## Try the app</span>
<span class="fu"><a href="reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Processing your data</span>
<span class="co">## Install treeshap from github, to use as a local explainer</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'ModelOriented/treeshap'</span><span class="op">)</span>
<span class="co">## Follow the examples in cheem_ls()</span>
<span class="op">?</span><span class="va">cheem_ls</span></code></pre>
</div>
<div class="section level2">
<h2 id="global-view">Global view<a class="anchor" aria-label="anchor" href="#global-view"></a>
</h2>
<p>The global view shows data-, attribution-spaces, and residual plot side-by-side with linked brushing and hover tooltip.</p>
<p><img src="https://github.com/nspyrison/cheem/blob/main/ignore/global_view_penguins.PNG?raw=true"></p>
<p>By exploring the global view, identify a primary and comparison observation to compare. For the classification task, typically a misclassified point is selected and compared against a nearby correctly classified one. In regression, we can compare a point with an extreme residual with a nearby point that is more accurately predicted.</p>
</div>
<div class="section level2">
<h2 id="radial-cheem-tour">Radial cheem tour<a class="anchor" aria-label="anchor" href="#radial-cheem-tour"></a>
</h2>
<p>The attribution of the primary observation becomes the 1D basis for the tour. The variable with the largest difference between the primary and comparison point’s bases is selected as the manipulation variable. That is the variable whose contribution change drives the change in the projection basis.</p>
<p><img src="https://github.com/nspyrison/cheem/blob/main/buildignore/tour_penguins.gif?raw=true"></p>
<p>By doing this, we are testing the local explanation. By testing the variable sensitivity to the structure identified in the local explanation, we can better evaluate how good of an explanation it is; how sensitive its prediction is to a change in the variable contributions.</p>
<div class="section level3">
<h3 id="original-application">Original application<a class="anchor" aria-label="anchor" href="#original-application"></a>
</h3>
<p>We started by looking at the model-agnostic local explanation <em>tree SHAP</em> applied to random forests. We made this choice out of concern for runtime (<strong>treeshap</strong> uses an alternative algorithm with reduced computational complexity and thus achieves much faster run time extracting the full SHAP matrix during the preprocessing step). The namesake, <strong>Cheem</strong>, stems from the original application to tree-based models in the <strong>DALEX</strong> ecosystem; <a href="https://tardis.fandom.com/wiki/Tree_of_Cheem" class="external-link">Cheem</a> are a fictional race of tree-based humanoids for consistency with the Dr. who/Dr. why theme .</p>
<!---
### Extensions

18 Sept, 2021, Generalizing the code-base will likely take the order of:

1. Extend the scope of random forest models; from only {randomForest} to all RF models handled by {treeshap}.\
2. Extend the scope of local explanations; from {treeshap} SHAP values to all local explanations handled by {DALEX}.\
--->
<div class="section level4">
<h4 id="sources">Sources<a class="anchor" aria-label="anchor" href="#sources"></a>
</h4>
<p><a href="https://ema.drwhy.ai/shapley.html#SHAPRcode" class="external-link">Explanatory Model Analysis (ebook)</a> <a href="https://CRAN.R-project.org/package=DALEX" class="external-link">DALEX CRAN page</a> <a href="https://cran.r-project.org/package=spinifex" class="external-link">spinifex CRAN page</a> <a href="https://github.com/ModelOriented/treeshap" class="external-link">treeshap GitHub page</a></p>
<!-- CSS change figure width to 100% -->
<style>
  img{width: 100%;}
</style>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nspyrison/cheem/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/nspyrison/cheem/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://creativecommons.org/licenses/by-nc-sa/4.0" class="external-link">CC BY-NC-SA 4.0</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cheem</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nicholas Spyrison <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0002-8417-0212" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Nicholas Spyrison.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
