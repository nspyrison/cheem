<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Given a tree-based machine learning model, calculate the tree SHAP 
    &lt;arXiv:1802.03888&gt;; &lt;https://github.com/ModelOriented/treeshap&gt; 
    local explanation of every observation. View the data space, explanation 
    space, and model residuals as ensemble graphic interactive on a shiny 
    application. After an observation of interest is identified, the normalized 
    variable importance of the local explanation is used as a 1D projection
    basis. The support of the local explanation is then explored by changing
    the basis with the use of the radial tour &lt;doi:10.32614/RJ-2020-027&gt;; 
    &lt;doi:10.1080/10618600.1997.10474754&gt;.">
<title>Interactively Explore Local Explanations with the Radial Tour • cheem</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Interactively Explore Local Explanations with the Radial Tour">
<meta property="og:description" content="Given a tree-based machine learning model, calculate the tree SHAP 
    &lt;arXiv:1802.03888&gt;; &lt;https://github.com/ModelOriented/treeshap&gt; 
    local explanation of every observation. View the data space, explanation 
    space, and model residuals as ensemble graphic interactive on a shiny 
    application. After an observation of interest is identified, the normalized 
    variable importance of the local explanation is used as a 1D projection
    basis. The support of the local explanation is then explored by changing
    the basis with the use of the radial tour &lt;doi:10.32614/RJ-2020-027&gt;; 
    &lt;doi:10.1080/10618600.1997.10474754&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">cheem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/getting-started-with-cheem.html">Getting started with cheem</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nspyrison/cheem/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="cheem">
<strong>cheem</strong><a class="anchor" aria-label="anchor" href="#cheem"></a>
</h1></div>
<p>Interactively explore data- and local explanation- spaces and residual side-by-side. Further explore the support of a selected observation’s local explanation with the radial tour.</p>
<div class="section level2">
<h2 id="context">Context<a class="anchor" aria-label="anchor" href="#context"></a>
</h2>
<p><em>Local explanations</em> approximate the linear variable importance of a non-linear model in the vicinity of one instance(observation). That is, a point-measure of each variable’s importance to the model at the particular location in data-space.</p>
<p><strong>cheem</strong> extracts the local explanation of every observation in a dataset, given a model. Given a model, extract the local explanation of every observation in a data set. View the data- and explanation-spaces side-by-side in an interactive shiny application. Further explored a selected point against a comparison using its explanation as a 1D projection basis. A radial tour then explores the structure of explanation projection.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<pre><code><span><span class="co">## Download the package</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"cheem"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">## May need to restart the R session so RSudio has the correct file structure</span></span>
<span><span class="fu">rstudioapi</span><span class="fu">::</span><span class="fu">restartSession</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## Load cheem into session</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nspyrison/cheem/" class="external-link">cheem</a></span><span class="op">)</span></span>
<span><span class="co">## Try the app</span></span>
<span><span class="fu"><a href="reference/run_app.html">run_app</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Processing your data; follow the examples in cheem_ls()</span></span>
<span><span class="op">?</span><span class="va">cheem_ls</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="global-view">Global view<a class="anchor" aria-label="anchor" href="#global-view"></a>
</h2>
<p>The global view shows data-, attribution-spaces, and residual plot side-by-side with linked brushing and hover tooltip.</p>
<p><img src="https://github.com/nspyrison/cheem/blob/main/buildignore/global_view_penguins.PNG?raw=true"></p>
<p>By exploring the global view, identify a primary and comparison observation to compare. For the classification task, typically a misclassified point is selected and compared against a nearby correctly classified one. In regression, we can compare a point with an extreme residual with a nearby point that is more accurately predicted.</p>
</div>
<div class="section level2">
<h2 id="radial-cheem-tour">Radial cheem tour<a class="anchor" aria-label="anchor" href="#radial-cheem-tour"></a>
</h2>
<p>The attribution of the primary observation becomes the 1D basis for the tour. The variable with the largest difference between the primary and comparison point’s bases is selected as the manipulation variable. That is the variable whose contribution change drives the change in the projection basis.</p>
<p><img src="https://github.com/nspyrison/cheem/blob/main/buildignore/tour_penguins.gif?raw=true"></p>
<p>By doing this, we are testing the local explanation. By testing the variable sensitivity to the structure identified in the local explanation, we can better evaluate how good of an explanation it is; how sensitive its prediction is to a change in the variable contributions.</p>
</div>
<div class="section level2">
<h2 id="original-application">Original application<a class="anchor" aria-label="anchor" href="#original-application"></a>
</h2>
<p>We started by looking at the model-agnostic local explanation <em>tree SHAP</em> applied to random forests. We made this choice out of concern for runtime (<strong>treeshap</strong> uses an alternative algorithm with reduced computational complexity and thus achieves much faster run time extracting the full SHAP matrix during the preprocessing step). The namesake, <strong>Cheem</strong>, stems from the original application to tree-based models in the <strong>DALEX</strong> ecosystem; <a href="https://tardis.fandom.com/wiki/Tree_of_Cheem" class="external-link">Cheem</a> are a fictional race of tree-based humanoids for consistency with the Dr. who/Dr. why theme.</p>
</div>
<div class="section level2">
<h2 id="sources">Sources<a class="anchor" aria-label="anchor" href="#sources"></a>
</h2>
<ul>
<li><a href="https://ema.drwhy.ai/shapley.html#SHAPRcode" class="external-link">Explanatory Model Analysis (ebook)</a></li>
<li><a href="https://CRAN.R-project.org/package=DALEX" class="external-link">DALEX CRAN page</a></li>
<li><a href="https://cran.r-project.org/package=spinifex" class="external-link">spinifex CRAN page</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="package-build-workflow">Package build workflow<a class="anchor" aria-label="anchor" href="#package-build-workflow"></a>
</h2>
<ul>
<li>devtools::document() ## documentation changes</li>
<li>pkgdown::build_site() ## packagedown site changes (documentation, vignettes, readme)</li>
<li>message(“Manually do: Build tab &gt; Install and Restart”) ## build package</li>
<li>rhub::check_for_cran() ## check package</li>
<li>devtools::submit_cran() ## Submit to CRAN</li>
</ul>
<!-- CSS change figure width to 100% --><style>
  img{width: 100%;}
</style>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=cheem" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/nspyrison/cheem/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/nspyrison/cheem/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cheem</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nicholas Spyrison <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0002-8417-0212" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nicholas Spyrison.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
